@page "/"
@using System

<link rel="stylesheet" href="~/css/StyleSheet.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.7.2/font/bootstrap-icons.css">

<PageTitle>Todo</PageTitle>

<h1>Todo App</h1>

<div class="mb-3 ">
<input class="main" placeholder="Add Something" @bind="newTodo" />

<button @onclick="AddTodo" class="btn">Add todo</button>
</div>
<div>
    <p class="para" >@errorMsg </p>
</div>
<ul>
    
    @for(int i = 0; i < todos.Count; i++)
    {
        int index = i;
        <li>
            <input type="checkbox" />
            <label>@todos[i].Title</label>
            <span class="spn"  @onclick="@(e =>DelTodo(index))"><i class="bi bi-trash-fill"></i></span>

        </li>
    }
</ul>


@code {
    
    private List<TodoItem> todos = new();
    private string? newTodo;
    private string errorMsg="";
    private string? inputValue;
    private void AddTodo()
    {
        errorMsg = string.Empty;
        if (!string.IsNullOrWhiteSpace(newTodo))
        {

            todos.Add(new TodoItem { Title = newTodo });
            newTodo = string.Empty;
        }
        else
        {
            errorMsg = "Please Enter some text";   
        }
    }


    public void DelTodo(int num)
    {
        todos.RemoveAt(num);


    }
}